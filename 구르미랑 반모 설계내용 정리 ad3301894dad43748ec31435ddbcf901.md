# êµ¬ë¥´ë¯¸ë‘ ë°˜ëª¨ ì„¤ê³„ë‚´ìš© ì •ë¦¬

# ë‹´ë‹¹ì˜ì—­

### ë§ˆì´í˜ì´ì§€

- ui ì„¤ê³„
- ë¦¬ë•ìŠ¤ ì•¡ì…˜, ì•¡ì…˜í•¨ìˆ˜, ë¦¬ë“€ì„œ ì„¤ê³„
- ui ì´ë¯¸ì§€

![KakaoTalk_Photo_2021-10-29-23-43-35 010](https://user-images.githubusercontent.com/73742422/139526657-89ba0db2-502b-46a2-a320-ede21724904b.jpeg)

![KakaoTalk_Photo_2021-10-29-23-43-34 001](https://user-images.githubusercontent.com/73742422/139526682-f48be041-9747-4260-bfac-a8852d81f991.jpeg)


![KakaoTalk_Photo_2021-10-29-23-43-35 003](https://user-images.githubusercontent.com/73742422/139526686-4bbc5f6a-fc8a-4be1-a6e6-9e0208e2a2cd.jpeg)

![KakaoTalk_Photo_2021-10-29-23-43-35 004](https://user-images.githubusercontent.com/73742422/139526690-72b14220-d2d4-42f9-b50c-e054c154f811.jpeg)

### ë°˜ë ¤ìƒí™œ

- ui ì„¤ê³„
- ë¦¬ë•ìŠ¤ ì•¡ì…˜, ì•¡ì…˜í•¨ìˆ˜, ë¦¬ë“€ì„œ ì„¤ê³„
- ìœ„ì¹˜ê¸°ë°˜ ì„œë¹„ìŠ¤ ê°œë°œ(ë„¤ì´ë²„ ì§€ë„, reverse geocoding, gps)
    - ë„¤ì´ë²„ ì§€ë„ ì—°ê²°
        - ì—°ê²° ì„¤ì •
            - ì•ˆë“œë¡œì´ë“œ
                - ë„¤ì´ë²„ ì¸ì¦í‚¤ ì—°ê²°(ê²½ë¡œ: "./android/app/src/main/AndroidManifest.xml")
                - sdk ë ˆí¬ì§€í† ë¦¬ ê²½ë¡œ ì„¤ì •
                - ë„¤ì´ë²„ sdk ë²„ì „ ì‹±í¬
            - ios
                - ë„¤ì´ë²„ ì¸ì¦í‚¤ ì—°ê²°(ê²½ë¡œ: "./ios/{í”„ë¡œì íŠ¸ ëª…}/info.plist")
                - git-lfs ì„¤ì¹˜
                    
                    <aside>
                    ğŸ’¡ ios í™˜ê²½ì—ì„œëŠ” ë„¤ì´ë²„ ë§µì˜ ì‚¬ì´ì¦ˆê°€ ë„ˆë¬´ì»¤ì ¸ì„œ 100MBì´ìƒì˜ ê³ ìš©ëŸ‰ íŒŒì¼ì„ ë°›ê¸°ìœ„í•´ git-lfsë¥¼ ì„¤ì¹˜í•´ì•¼ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤(ë„¤ì´ë²„ ê³µì‹ë¬¸ì„œì—ë„ ë‚˜ì™€ìˆìŒ)
                    
                    </aside>
                    
                - ë„¤ì´ë²„ sdk ë²„ì „ ì‹±í¬
        - ì‹¤í–‰ ì½”ë“œ
            
            ```jsx
            const NaverMap = ({
                list, 
                center, 
                pinClick, 
                showMyLoc,
                isInit,
                setInit, 
                viewOpen, 
                setViewOpen, 
                pinIdx, 
                setShowMyLoc
            }) => {
                const [zoomLevel, setZoomLevel] = useState(16);
                const [smallRndSize, setSmallRndSize] = useState(10);
                const [smallRndOutSize, setSmallRndOutSize] = useState(5);
                const [bigRndSize, setBigRndSize] = useState(50);
                const [currentCenter, setCurrentCenter] = useState({...center});
                const [cnt, setCnt] = useState(0);
            
                const mapRef = useRef();
            
            	// í˜„ì¬ìœ„ì¹˜ ì¡°íšŒì‹œ í˜„ì¬ìœ„ì¹˜ ì¢Œí‘œ ë³€ê²½(ìì²´ê¸°ëŠ¥ êµ¬í˜„, ë„¤ì´ë²„ ì œê³µê¸°ëŠ¥ X)
                useEffect(() => {
                    if(showMyLoc) {
                        console.log('--------------------useEffect---------------------------------');
                        mapRef.current.animateToCoordinate(center);
                        setCnt(0);
                        setCurrentCenter({
                            ...center
                        });
                    }
                }, [showMyLoc]);
            
            		// ì§€ë„ ì¶•ì²™ ë³€ê²½ì‹œ í˜„ì¬ìœ„ì¹˜ ì•„ì´ì½˜ ì‚¬ì´ì¦ˆ ê³„ì‚°
                const sizeCalculate = (zoom) => {
                    console.log('----------------------------sizeCalculate--------------------------');
                    setZoomLevel(zoom);
                    if(zoom > 19) {
                        setSmallRndSize(0.5);
                        setSmallRndOutSize(2.5);
                        setBigRndSize(5);
                    }
                    else {
                        const compZoom = Math.floor(zoom);
                        switch(compZoom) {
                            case 19:
                                setSmallRndSize(1);
                                setSmallRndOutSize(1);
                                setBigRndSize(10);
                                break;
                            case 18:
                                setSmallRndSize(3);
                                setSmallRndOutSize(Platform.OS === 'android' ? 7 : 3);
                                setBigRndSize(20);
                                break;
                            case 17:
                                setSmallRndSize(5);
                                setSmallRndOutSize(Platform.OS === 'android' ? 7 : 3);
                                setBigRndSize(40);
                                break;
                            case 16:
                                setSmallRndSize(10);
                                setSmallRndOutSize(Platform.OS === 'android' ? 7 : 3);
                                setBigRndSize(50);
                                break;
                            default:
                                setSmallRndSize((2 ** (16-compZoom))*10);
                                setSmallRndOutSize(Platform.OS === 'android' ? 7 : 3);
                                setBigRndSize((2 ** (15-compZoom))*100); 
                                break;
                        }
                    }
                }
            
                return (
                    <NaverMapView 
                        ref={mapRef}
                        style={{flex: 1}}        
                        showsMyLocationButton={false}
                        center={{...center, zoom: zoomLevel}}
                        onTouch={e => {
                            console.log('onTouch', e)
                        }}
                        onCameraChange={e => {
                            console.log('onCameraChange', e);
                            const latitude = e.latitude.toFixed(7);
                            const longitude = e.longitude.toFixed(7);
                            const lat1 = currentCenter.latitude.toFixed(7);
                            const long1 = currentCenter.longitude.toFixed(7);
            
                            if((latitude == lat1) && (longitude == long1)) sizeCalculate(e.zoom);
            
                            if(cnt >= 2) {
                                if((latitude != lat1) || (longitude != long1)) {
                                    if(isInit) setInit(false);
                                }
                            }
                            if(cnt >= 1) {
                                if((!isInit) && ((latitude != lat1) || (longitude != long1))) setShowMyLoc(false);
                            }
                            setCnt(cnt+1);
                            
                        }}
                        onMapClick={e => {
                            console.log('onMapClick', e)
                            if(viewOpen) setViewOpen(false);
                        }}
                        zoomGesturesEnabled={true}
                        zoomControl={true}
                    >
                        {/* <Marker coordinate={P0} onClick={() => console.log('onClick! p0')}/> */}
                        {
                            list.map((item) => {
                                const {idx, coordinatesX, coordinatesY, title} = item;
                                return (
                                    <Marker 
                                        coordinate={{latitude: coordinatesY, longitude: coordinatesX}}  
                                        image={ICON_MAP_MARKERPIN}
                                        onClick={() => {
                                            pinClick(item)
                                        }}
                                        width={((pinIdx === idx)&&viewOpen) ? 48 : 37}
                                        height={((pinIdx === idx)&&viewOpen) ? 57 : 45}
                                        key={idx}
                                        caption={{
                                            text: title,
                                            textSize: 13,
                                            color: '#2C2C2E',
                                        }}
                                    />
                                );
                            })
                        }
            
                        { (showMyLoc || isInit) && <Circle coordinate={{...center}} radius={smallRndSize} color={'#FF3B30'} outlineColor={'#fff'} outlineWidth={smallRndOutSize} />}
                        { (showMyLoc || isInit) && <Circle coordinate={{...center}} radius={bigRndSize} color={'#FF3B301A'} outlineWidth={1} outlineColor={'#FF3B30'} />}
                    </NaverMapView>
                );
            }
            ```
            
        - ì‹¤í–‰ ê²°ê³¼
        
        ![KakaoTalk_Photo_2021-10-29-23-43-35 009](https://user-images.githubusercontent.com/73742422/139526766-d97ceb6e-d6b0-4840-bf5a-b801710cfabb.jpeg)
        
    - ë„¤ì´ë²„ reverse geocoding ì—°ê²°(í˜„ì¬ìœ„ì¹˜ ì£¼ì†Œ ì¡°íšŒ ê´€ë ¨)
        
        <aside>
        ğŸ’¡ reverse geocoding: ìœ„ë„ì™€ ê²½ë„ ì •ë³´ë¥¼ ì´ìš©í•˜ì—¬ ì£¼ì†Œë¡œ ì—­ë³€í™˜í•´ì£¼ëŠ” ê¸°ëŠ¥
        â†’ ì´ê²ƒê³¼ ë°˜ëŒ€ë˜ëŠ” ê¸°ëŠ¥: geocoding(ì£¼ì†Œì •ë³´ë¥¼ ì´ìš©í•´ ì¢Œí‘œë¥¼ í¬í•¨í•œ ìƒì„¸ì •ë³´ë¡œ ë³€í™˜í•´ì£¼ëŠ” ê¸°ëŠ¥)
        â†’ ì´ëŸ¬í•œ ê¸°ëŠ¥ë“¤ì€ ì§€ë„ api ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì—…ì²´ì—ì„œëŠ” ê±°ì˜ ì „ë¶€ ë‹¤ ì œê³µí•¨
        
        </aside>
        
        - ì‹¤í–‰ì½”ë“œ
            
            ```jsx
            export const NaverReverseGeocoding = (coords) => {
            		// coords íŒŒë¼ë©”í„° ìë£Œí˜•ì€ String
            		// í˜•ì‹ì€ '${ê²½ë„},${ìœ„ë„}' í˜•ì‹ìœ¼ë¡œ ë“¤ì–´ê°€ì•¼ í•¨
                return new Promise((resolve) => {
                    fetch(`https://naveropenapi.apigw.ntruss.com/map-reversegeocode/v2/gc?coords=${coords}&orders=legalcode&output=json`, {
                        headers: {
                            'X-NCP-APIGW-API-KEY-ID': CLIENT_ID,  // ë„¤ì´ë²„ client ID
                            'X-NCP-APIGW-API-KEY': CLIENT_SECRET  // ë„¤ì´ë²„ client secret
                        }
                    })
                    .then((res) => {
            						// json ê²°ê³¼ê°’ì„ js ê°ì²´ë¡œ ì—­ë³€í™˜í•´ì„œ ë°˜í™˜
                        resolve(res.json());
                    })
                });
            }
            ```
            
    - gps ê¸°ëŠ¥
        - ì•ˆë“œë¡œì´ë“œ ê¶Œí•œ ì„¤ì •
            - AndroidManifest.xml íŒŒì¼ì— ì•„ë˜ì˜ ì½”ë“œ ì¶”ê°€
            ```xml
            <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
            ```
        - ios ê¶Œí•œ ì„¤ì •
            - info.plist íŒŒì¼ì— ì•„ë˜ì˜ ì½”ë“œ ì¶”ê°€
                
                ```jsx
                <key>NSLocationWhenInUseUsageDescription</key>
                <string>{ìœ„ì¹˜ ê¶Œí•œê³¼ ê´€ë ¨í•´ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì§ˆ ë¬¸ì¥}</string>
                ```
                
        - gps ëª¨ë“ˆ ì„¤ì¹˜
            
            <aside>
            ğŸ’¡ ëª¨ë“ˆëª…: react-native-geolocation-service
            ì°¸ê³ ) ì´ ëª¨ë“ˆì„ í†µí•´ iosì˜ ìœ„ì¹˜ ì„¤ì • ê¶Œí•œì„ ìš”ì²­í•  ìˆ˜ ìˆìŒ(ì•ˆë“œë¡œì´ë“œëŠ” react nativeì—ì„œ ì œê³µí•˜ëŠ” ë³„ë„ ì»´í¬ë„ŒíŠ¸ê°€ ìˆìŒ)
            
            </aside>
            
        - ê¶Œí•œ ìš”ì²­ ë©”ì„œë“œ ì‘ì„±
            
            ```jsx
            const requestPermission = async () => {
                try {
                  if(Platform.OS === 'android') return await PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION);
                  else return await Geolocation.requestAuthorization('whenInUse');
            
            			//return ê°’: granted(í—ˆìš©), denied(ê±°ë¶€), never_ask_again(ë‹¤ì‹œ ë¬»ì§€ ì•ŠìŒ(ê±°ë¶€)), disabled(ì‚¬ìš©ë¶ˆê°€), restricted(ì‚¬ìš©ì œí•œ)
                }
                catch(e) {
                  console.log('HomeContainer requestPermission: ', e);
                }
              }
            ```
            
        - ìœ„ì¹˜ì •ë³´ ìš”ì²­ ë©”ì„œë“œ ì‘ì„±
            
            ```jsx
            const getCoordinate = (res, catArr) => {
                if(res === 'granted') {
                  Geolocation.getCurrentPosition((pos) => {
                    const {longitude, latitude} = pos.coords;
                    console.log('pos: ', latitude, longitude);
                    
                  },
                  error => {
                    console.log('===================================================');
                    console.log('getCoordinate error: ', error);
                  },
                  {
                    timeout: 1000, // íƒ€ì„ì•„ì›ƒ(ms) => iosì—ì„  íƒ€ì„ì•„ì›ƒì„ ì•ˆê±¸ì–´ì£¼ë©´ ìœ„ì¹˜ ë°˜í™˜ì´ ì•ˆë¨: íƒ€ì„ì•„ì›ƒ defaultê°€ INFINITY(ë¬´í•œëŒ€)ì´ê¸° ë•Œë¬¸
                    enableHighAccuracy: true // ìœ„ì¹˜ ê³ ì •ë°€ ì¡°íšŒ ì‚¬ìš©ì—¬ë¶€
                  })
                }
                else { }
              }
            ```
            
        

### ì•± ë©”ì¸í™”ë©´

- ë©”ì¸í™”ë©´ ui ì „ë©´ ì¬ì„¤ê³„
    - **ë³€ê²½ ì „**
        
        <img width="377" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-10-30 á„‹á…©á„’á…® 5 22 26" src="https://user-images.githubusercontent.com/73742422/139526789-e9a5a4fe-0cf3-4817-8997-dae45597455c.png">
        
    - **ë³€ê²½ í›„**
        
        ![KakaoTalk_Photo_2021-10-29-23-43-35 014](https://user-images.githubusercontent.com/73742422/139526798-b676b983-3add-475a-8af4-bfc2a6fb0e82.jpeg)

        
        - ui êµ¬ì¡° ë³€ê²½
        - ìºëŸ¬ì…€ **ìì²´ ì œì‘** í›„ ì—°ê²°
        - ë©”ì¸í™”ë©´ ë…¸ì¶œ ë‚ ì§œë³„ ì¶”ì²œ 1ê°œ ë…¸ì¶œ â†’ ë°˜ë ¤ê³µê° ë¦¬ìŠ¤íŠ¸ í˜•ìœ¼ë¡œ ë³€ê²½

### ë°˜ë ¤ê³µê°

- ë°˜ë ¤ê³µê° ì „ë©´ ì¬ì„¤ê³„
    - **ë³€ê²½ ì „ ui**
        
        <img width="376" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-10-30 á„‹á…©á„’á…® 5 30 17" src="https://user-images.githubusercontent.com/73742422/139526811-9be308ae-e651-4c46-9b62-6a7a5f27a4c2.png">
        
    - **ë³€ê²½ í›„ ui**
        
        ![KakaoTalk_Photo_2021-10-29-23-43-35 012](https://user-images.githubusercontent.com/73742422/139526819-5a20bd93-856e-4a97-baee-77634dd70f37.jpeg)
        
        - ì¹´í…Œê³ ë¦¬ êµ¬ì¡°: 1 depth â†’ 3depth êµ¬ì¡°ë¡œ ë³€ê²½
        - ë°˜ë ¤ê³µê° ìì²´ ê²€ìƒ‰ê¸°ëŠ¥ ì¶”ê°€
        - ì•„ì´í…œ ì»´í¬ë„ŒíŠ¸ ui ìˆ˜ì •

### ê³µí†µ ì‚¬ìš©ê°€ëŠ¥ ì»´í¬ë„ŒíŠ¸/ë©”ì„œë“œ ì œì‘

- SelectMenu
    
    ![KakaoTalk_Photo_2021-11-06-21-37-51 006.jpeg](%E1%84%80%E1%85%AE%E1%84%85%E1%85%B3%E1%84%86%E1%85%B5%E1%84%85%E1%85%A1%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20ad3301894dad43748ec31435ddbcf901/KakaoTalk_Photo_2021-11-06-21-37-51_006.jpeg)
    
    - ì˜ì—­ë³„ë¡œ ê³µí†µì ìœ¼ë¡œ ì ìš©ê°€ëŠ¥í•œ menu select ì»´í¬ë„ŒíŠ¸
    - í˜•ì‹ì— ë§ì¶°ì„œ ë²„íŠ¼ titleê³¼ ì‹¤í–‰ í•¨ìˆ˜ë¥¼ ì„ ì–¸
    
    **ì½”ë“œ**
    
    ```jsx
    export const SelectMenu = ({visible, closeAction, actionList, isCamera=false}) => {
        return (
            <Modal animationType='fade' transparent={true} visible={visible} onRequestClose={() => closeAction()}>
                <SafeAreaView style={styles.container}>
                    <Pressable
                        style={{
                            flex: 1,
                            justifyContent: 'center',
                            alignItems: 'center'
                        }}
                        onPress={() => closeAction()}
                    >
                        <View style={styles.selectBox}>
                            {
                                actionList.map((item, index) => {
                                    const {title, action} = item;
                                    return (
                                        <TouchableOpacity 
                                            style={[styles.button, {borderBottomWidth: (index === actionList.length-1) ? 0 : Platform.select({android: 0.5, ios: 0.25})}]}
                                            key={index}
                                            onPress={() => {
                                                if(!isCamera) closeAction();
                                                else {
                                                    if(Platform.OS === 'android') closeAction();
                                                }
                                                action();
                                            }}
                                        >
                                            <Text style={styles.buttonTxt}>{title}</Text>
                                        </TouchableOpacity>
                                    );
                                })
                            }
                        </View>
                    </Pressable>
                </SafeAreaView>
            </Modal>
        );
    }
    ```
    
    - ì½”ë“œ ì„¤ëª…
        - parameter
            - visible: modal ë…¸ì¶œ,ë¹„ë…¸ì¶œ ì—¬ë¶€
            - closeAction: modal ë¹„ë…¸ì¶œ í•¨ìˆ˜
            - actionList: ë©”ë‰´ë¡œ í‘œì‹œí•  ë²„íŠ¼ê³¼ ê·¸ì— ë”°ë¥¸ ì•¡ì…˜ í•¨ìˆ˜(title(ë²„íŠ¼ title), action(í•´ë‹¹ ë²„íŠ¼ í´ë¦­ì‹œ ì‹¤í–‰ í•¨ìˆ˜))
            - isCamera: ì¹´ë©”ë¼ ê´€ë ¨ SelectMenuì¸ ê²½ìš°
        - ë²„íŠ¼ë“¤ì´ í‘œì‹œë  grid view ìœ„ì— íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì˜¨ actionListë¥¼ mapìœ¼ë¡œ ì¶œë ¥ì‹œì¼œ ì£¼ëŠ” êµ¬ì¡°
    
- TabButton
    
    ![KakaoTalk_Photo_2021-11-06-21-37-51 004.jpeg](%E1%84%80%E1%85%AE%E1%84%85%E1%85%B3%E1%84%86%E1%85%B5%E1%84%85%E1%85%A1%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20ad3301894dad43748ec31435ddbcf901/KakaoTalk_Photo_2021-11-06-21-37-51_004.jpeg)
    
    ![KakaoTalk_Photo_2021-11-06-21-37-51 005.jpeg](%E1%84%80%E1%85%AE%E1%84%85%E1%85%B3%E1%84%86%E1%85%B5%E1%84%85%E1%85%A1%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20ad3301894dad43748ec31435ddbcf901/KakaoTalk_Photo_2021-11-06-21-37-51_005.jpeg)
    
    - ì˜ì—­ë³„ë¡œ ê³µí†µì ì¸ ë””ìì¸ ì†ì„±ì´ ì ìš©ë˜ëŠ” íƒ­ë°” ì»´í¬ë„ŒíŠ¸ ì œì‘
    
    **ì½”ë“œ**
    
    ```jsx
    const TabButton = ({selected, onPress, titles}) => {
        return (
            <SafeAreaView style={styles.container}>
                {
                    titles.map((item, index) => {
                        return (
                            <TouchableOpacity
                                style={[styles.button, (selected === (index+1)) ? styles.selected : styles.unselected]}
                                onPress={() => onPress(index+1)}
                                key={index}
                            >
                                <Text style={[styles.title, (selected === (index+1)) ? styles.selectedTitle : styles.unselectedTitle]}>{item}</Text>
                            </TouchableOpacity>
                        );
                    })
                }
    
            </SafeAreaView>
        );
    }
    
    const styles = StyleSheet.create({
        container: {
            width: '100%',
            height: 48,
            borderBottomWidth: 1,
            borderBottomColor: '#E9E9EB',
            paddingHorizontal: 16,
            flexDirection: 'row',
            backgroundColor: '#fff'
        },
        button: {
            flex: 1,
            justifyContent: 'center',
            alignItems: 'center'
        },
        selected: {
            borderBottomWidth: 2,
            borderBottomColor: '#3A86F6',
        },
        unselected: {
            borderBottomWidth: 0
        },
        title: {
            fontSize: 16,
            lineHeight: 23
        },
        selectedTitle: {
            color: '#3A86F6',
            fontFamily: fontConvert('SCDream5')
        },
        unselectedTitle: {
            color: '#616161',
            fontFamily: fontConvert('SCDream4')
        },
    })
    ```
    
    - ScrollView ìœ„ì— í‘œì‹œí•˜ëŠ” êµ¬ì¡°ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— uiìƒ í‘œì‹œí•  ìˆ˜ ìˆëŠ” íƒ­ë²„íŠ¼ ìˆ˜ì˜ í•œê³„ê°€ ìˆìŒ(ìµœëŒ€ 4ê°œê¹Œì§€)
- Banner(ë°°ë„ˆ)
    
    ![KakaoTalk_Photo_2021-11-06-21-37-51 003.jpeg](%E1%84%80%E1%85%AE%E1%84%85%E1%85%B3%E1%84%86%E1%85%B5%E1%84%85%E1%85%A1%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%20%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20ad3301894dad43748ec31435ddbcf901/KakaoTalk_Photo_2021-11-06-21-37-51_003.jpeg)
    
    - 3D íš¨ê³¼ê°€ ì ìš©ëœ ìºëŸ¬ì…€ ë°°ë„ˆ ì»´í¬ë„ŒíŠ¸ ì œì‘
    - ê¸°ì¡´ ì™¸ë¶€ ëª¨ë“ˆ ì»´í¬ë„ŒíŠ¸ëŠ” ì›í•˜ëŠ” íš¨ê³¼ë¥¼ ì‰½ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì—†ì–´ ìì²´ ì œì‘ ê²°ì •
    
    **ì½”ë“œ**
    
    ```jsx
    import React, { useEffect, useRef, useState } from 'react';
    import { 
        FlatList,
        View, ViewPropTypes 
    } from 'react-native';
    import PropTypes from 'prop-types';
    import CONF from '../../../config';
    import { Component } from 'react';
    
    const SCREENWIDTH = CONF.WINDOW_WIDTH;
    const SCREENHEIGHT = CONF.WINDOW_HEIGHT;
    const PAGEWIDTH = SCREENWIDTH-32;
    const PAGEHEIGHT = ((180/343)*PAGEWIDTH);
    const GAP = 8;
    const OFFSET = 8;
    
    class BannerSlider extends Component {
        constructor(props) {
            super(props);
            
            this.state = {
                page: 0,
                pagesIndexs: [ ...this.setPagesIndexs(props.pages) ],
                newPages: [ ...this.setFirstPages(props.pages) ],
                firstPagesLength: props.pages.length,
                autoScroll: ('autoScroll' in props) ? props.autoScroll : false,
                autoScrollInterval: ('autoScrollInterval' in props) ? props.autoScrollInterval : 5000,
                circleLoop: ('circleLoop' in props) ? props.circleLoop : false,
                sliderHeight: ('sliderHeight' in props) ? props.sliderHeight : 180,
                nextLoc: 0,
            } 
        }
    		// í˜ì´ì§€ ë³„ ê³ ìœ  index í‚¤ ê°’ ëª©ë¡í™”
        setPagesIndexs(arr) {
            return arr.map((item) => item.key);
        }
    
    		// ë„˜ì–´ì˜¨ í˜ì´ì§€ ëª©ë¡ -> ë°°ë„ˆ view ëª©ë¡
    		// ì²˜ìŒ ë„˜ì–´ì˜¨ ëª©ë¡ì˜ ìˆ˜ê°€ ë°°ë„ˆë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ìµœì†Œí•œì˜ ëª©ë¡ë³´ë‹¤ ì‘ì„ ê²½ìš° ê·¸ ëª©ë¡ì˜ ê°œìˆ˜ë¥¼ ëŠ˜ë ¤ì¤Œ
        setFirstPages(arr) {
            const {circleLoop} = this.props;
    
            let newArr = [];
            let idx = 0;
            const firstLength = arr.length;
    
            for(let i of arr) {
                const {key, comp} = i;
                newArr.push({
                    num: idx++,
                    key,
                    comp
                })
            }
    
            if((newArr.length <= 3)&&circleLoop) {
                while(newArr.length !== 4) {
                    const firstIdx = newArr.length-firstLength;
                    const firstData = newArr[firstIdx];
    
                    const {key, comp} = firstData;
                    newArr.push({
                        num: idx++,
                        key,
                        comp
                    })
                }
            }
    
            return newArr;
        }
    
    		// í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì˜ ë§ˆìš´íŠ¸ê°€ ì™„ë£Œë¬ì„ ë•Œ(íƒ€ì´ë¨¸ íš¨ê³¼ êµ¬í˜„ì„ ìœ„í•´ ì ìš©)
        componentDidMount() {
            const {autoScroll, autoScrollInterval} = this.state;
            if(autoScroll) {
                this.timeout = setInterval(this.autoScrollAction, autoScrollInterval);
            }
        }
    
    		// í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ ë  ë•Œ(íƒ€ì´ë¨¸ interval ì´ˆê¸°í™”)
        componentWillUnmount() {
            const {autoScroll, autoScrollInterval} = this.state;
            if(autoScroll) clearInterval(this.timeout);
        }
    
    		// ìë™ ìŠ¤í¬ë¡¤ ì‹¤í–‰
        autoScrollAction = () => {
            const {page} = this.state;
    
            const offset = (PAGEWIDTH+GAP+0.0001)*(page+1);
            this.scrollRef.scrollToOffset({offset, animated: true});
    
            this.setState({
                ...this.state,
                page: page+1,
                nextLoc: offset
            })
        }
    
    		// í˜„ì¬ í˜ì´ì§€ index ë°˜í™˜
        returnPageIndex = (page, pagesArr) => {
            const {onPageChanged} = this.props;
            const {pagesIndexs} = this.state;
    
            const data = pagesArr[page];
            (typeof onPageChanged === 'function') && onPageChanged(pagesIndexs.indexOf(data.key));
        }
    
        render() {
            const {page, newPages, firstPagesLength, autoScroll, autoScrollInterval, circleLoop, sliderHeight, nextLoc} = this.state;
    
            return (
                <View style={{width: '100%', height: sliderHeight}}>
                    <FlatList 
                        ref={(ref) => this.scrollRef = ref}
                        automaticallyAdjustContentInsets={false}
                        contentContainerStyle={{
                            paddingHorizontal: (OFFSET + (GAP/2))
                        }}
                        onScrollBeginDrag={(e) => {
                            
                        }}
                        data={newPages}
                        decelerationRate='fast'
                        horizontal
                        keyExtractor={(item) => `${item.num}`}
                        onScroll={(e) => {
                            const newPage = Math.round(e.nativeEvent.contentOffset.x / (PAGEWIDTH+GAP))
                            let newState = {
                                ...this.state,
                                page: newPage
                            };
                            if(circleLoop&&(page !== newPage)&&(page < newPage)&&(newPage === newPages.length-2)) {
                                let newArr = newPages;
                                const newLength = newPages.length+1;
        
                                const firstDataIdx = (newLength-firstPagesLength)-1;
                                const firstData = newPages[firstDataIdx];
                                const lastData = newPages[newPages.length-1];
                                    
                                newArr.push({
                                    num: lastData.num+1,
                                    key: firstData.key,
                                    comp: firstData.comp
                                })
                                newState = {
                                    ...newState,
                                    newPages: newArr
                                }
                            }
        
                                if(page !== newPage) this.returnPageIndex(newPage, newState.newPages);
    
                            this.setState({
                                ...newState
                            })
                        }}
                        pagingEnabled
                        renderItem={(item) => {
                            const {num, key, comp} = item.item;
                            return (
                                <View style={{width: PAGEWIDTH, height: '100%', marginHorizontal: (GAP/2), borderRadius: 10}} key={`${num}`}>
                                    {comp()}
                                </View>
                            );
                        }}
                        snapToInterval={PAGEWIDTH+GAP+0.0001}
                        snapToAlignment='start'
                        showsHorizontalScrollIndicator={false}
                    />
                </View>
            );
        }
        
    }
    
    BannerSlider.propTypes = {
        pages: PropTypes.array.isRequired,
        autoScroll: PropTypes.bool,
        autoScrollInterval: PropTypes.number,
        circleLoop: PropTypes.bool,
        sliderHeight: PropTypes.number,
        onPageChanged: PropTypes.func
    }
    
    BannerSlider.defaultProps = {
        autoScroll: false,
        autoScrollInterval: 5000,
        circleLoop: false,
        sliderHeight: 180,
    }
    
    export default React.memo(BannerSlider);
    ```
    
    - ì½”ë“œ ì„¤ëª…
        - parameter
            - pages: ë°°ë„ˆë¡œ í‘œì‹œí•˜ê²Œ ë  view list
            - autoScroll: ìë™ ìŠ¤í¬ë¡¤ í™œì„±í™” ì—¬ë¶€(boolean)
            - autoScrollInterval: ìë™ ìŠ¤í¬ë¡¤ ê°„ê²©(defalut: 5000ms(5ì´ˆ))
            - circleLoop: ë¬´í•œ ë£¨í”„ í™œì„±í™” ì—¬ë¶€(boolean)
            - sliderHeight: í˜ì´ì§€ ë†’ì´
            - onPageChanged: í˜ì´ì§€ê°€ ë°”ë€Œì—ˆì„ ë•Œ í˜ì´ì§€ë³„ ê³ ìœ  index ë°˜í™˜
        - state
            - pages: í˜„ì¬ page number index
            - pagesIndexs: í˜ì´ì§€ë³„ ê³ ìœ  index,
            - newPages: ë°°ë„ˆë¡œ í‘œì‹œí•˜ê²Œ ë  ë·° list,
            - firstPagesLength: parameterë¡œ ë°›ì•„ì˜¨ pagesì˜ ê¸¸ì´
            - autoScroll: ìë™ ìŠ¤í¬ë¡¤ í™œì„±í™” ì—¬ë¶€(boolean)
            - autoScrollInterval: ìë™ ìŠ¤í¬ë¡¤ ê°„ê²©(defalut: 5000ms(5ì´ˆ))
            - circleLoop: ë¬´í•œ ë£¨í”„ í™œì„±í™” ì—¬ë¶€(boolean)
            - sliderHeight: í˜ì´ì§€ ë†’ì´
            - nextLoc: ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™í–ˆì„ ì‹œ ì´ë™í•´ì•¼ í•˜ëŠ” offset ê°’
    - ì¥ì 
        - ë‹¨ìˆœ ì´ë¯¸ì§€ë§Œ í‘œì‹œí•  ìˆ˜ë„ ìˆê³  view íƒœê·¸ ì•ˆì— íŠ¹ì •í•œ ì»´í¬ë„ŒíŠ¸(ë²„íŠ¼, image ë“±)ë“¤ì„ í‘œì‹œí•  ìˆ˜ ìˆìŒ â‡’ í˜ì´ì§€ë³„ customizing ê°€ëŠ¥
        - 3Díš¨ê³¼ êµ¬í˜„ ê°€ëŠ¥
    - ë‹¨ì 
        - ì•ˆë“œë¡œì´ë“œì˜ ê²½ìš° í˜ì´ì§€ë¥¼ ì´ë™í•  ìˆ˜ë¡ ì œ ìœ„ì¹˜ì— ì•ˆì°©ì´ ì•ˆë˜ëŠ” ê²½ìš°ê°€ ìˆìŒ
            - í™•ì¸ ê²°ê³¼
                - ë°°ë„ˆ scrollì— ì§€í‘œê°€ ë  í™”ë©´ì˜ ë„ˆë¹„ê°€ ì•ˆë“œë¡œì´ë“œì—ì„œ ì†Œìˆ˜ì  ë‹¨ìœ„ë¡œ ë‚˜ì˜¤ê³  ìˆìŒ(iosëŠ” ì •ìˆ˜ë‹¨ìœ„ë¡œ ì¶œë ¥ë˜ê³  ìˆìŒ)
                - ë„ˆë¹„ê°€ ì†Œìˆ˜ì  ë‹¨ìœ„ë¡œ ë‚˜ì˜¤ë©´ ì–´ë–¤ ê²½ìš°ë¡œë“  ì•„ì£¼ ë¯¸ì„¸í•œ ì˜¤ì°¨ê°€ ë°œìƒí•˜ê²Œ ë¨
                - ì´ ê²½ìš°ê°€ ëˆ„ì ë˜ë©´ í˜ì´ì§€ê°€ ì œ ìœ„ì¹˜ì— ì•ˆì°©í•˜ì§€ ëª»í•˜ê²Œ ë¨
                - ì¶”ê°€ ì—°êµ¬ í•„ìš”
